<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="./js/tailwind.js"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>

<body>
  <div class="w-full">
    <div class="block">
      <nav class="border-gray-200 dark:bg-gray-900 w-full fixed top-0 left-0">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
          <a id="navtext" href="#home" class="text-lg font-semibold text-gray-900 dark:text-white">Portfolio</a>
          <button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-default" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
            </svg>
          </button>
          <div class="hidden md:flex md:items-center md:w-auto" id="navbar-default">
            <div class="flex flex-col md:flex-row md:space-x-4">
              <a href="#home" id="home" class="navbar block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Home</a>
              <a href="#Wiraphat" id="Wiraphat" class="navbar block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Wiraphat</a>
              <a href="#Thiraphat" id="Thiraphat" class="navbar block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Thiraphat</a>
            </div>
          </div>
        </div>
      </nav>
    </div>

    <div id="content" class="block"></div>
  </div>

  <script>
    function loadContent() {
      const hash = window.location.hash;
      const navbarsname = { "#home": 0, "#Wiraphat": 0, "#Thiraphat": 0 };
      var navbars = document.getElementsByClassName("navbar");

      if (hash in navbarsname) {
        for (var i = 0; i < navbars.length; i++) {
          navbars[i].classList.remove("text-white", "bg-blue-700");
          navbars[i].classList.add("text-gray-900");
        }

        hashtext = hash.replace("#", "");
        document.getElementById(hashtext).classList = "navbar block py-2 px-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500";
        for (var i in navbarsname) {
          if (i != hash) {
            text = i.replace("#", "");
            document.getElementById(text).classList = "navbar block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent";
          }
        }

        menutext = hashtext
        if (menutext == "home") {
          menutext = "Portfolio";
        }
        document.getElementById("navtext").innerHTML = menutext;

        $.get("html/" + hashtext + ".html", function(data) {
          $("#content").html(data);
        });
      } 
      else {
        window.location.href = "index.html#home";
      }
    }

    $(function() {
      loadContent();

      // Handle hashchange event to load content based on URL hash
      $(window).on('hashchange', function() {
        loadContent();
      });

      // Handle click on nav links to update active class
      $('.navbar').click(function() {
        $('.navbar').removeClass('active');
        $(this).addClass('active');
      });

      // Toggle navbar visibility on button click
      $('[data-collapse-toggle]').click(function() {
        $('#navbar-default').toggleClass('hidden');
      });
    });
</script>
</body>

</html>
